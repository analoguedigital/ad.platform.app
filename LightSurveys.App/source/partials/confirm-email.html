<ion-view view-title="Home" class="confirm_email_screen" cache-view="false">
    <ion-content class="content has-footer padding" ng-cloak>
        <div class="padding-horizontal">
            <div class="text-center">
                <div class="inline text-center login-header">
                    <img src="images/icon-alt.png" alt="onrecord" width="100" />
                </div>
            </div>
        </div>
        <div class="row responsive-lg" ng-if="!emailSent">
            <div class="col col-50 col-offset-25">
                <form name="confirmEmailForm" novalidate="novalidate" class="col col-50 col-offset-25" style="margin-bottom: 0">
                    <div class="list list-inset" style="margin-top: 10px; margin-bottom: 0">
                        <label class="item item-icon-left" ng-disabled="isWorking">
                            <i class="icon ion-ios-person-outline"></i>
                            <span class="item-input">
                                <input name="email" type="email" ng-model="model.email" placeholder="Email address" required autocomplete="off" ng-disabled="isWorking">
                            </span>
                        </label>

                        <button class="button button-royal button-full" type="submit" ng-click="sendConfirmation()"
                                ng-disabled="isWorking || confirmEmailForm.$invalid">
                            <span ng-if="!isWorking">
                                <i class="icon ion-log-in"></i> Send confirmation email
                            </span>
                            <span ng-if="isWorking">
                                <i class="fa fa-spinner fa-pulse fa-fw"></i> Please wait
                            </span>
                        </button>
                    </div>
                </form>

                <p class="lead error-block" ng-show="!confirmEmailForm.email.$pristine && confirmEmailForm.email.$invalid">Please enter a valid email address</p>
            </div>
        </div>
        <div class="row responsive-lg" ng-if="emailSent">
            <div class="col">
                <div class="card">
                    <div class="item item-text-wrap">
                        <i class="icon ion-checkmark-circled"></i> Confirmation email sent. Please check your inbox and your spam folder just in case. You should receive the email shortly.
                    </div>
                </div>
            </div>
        </div>
    </ion-content>
    <div class="bar bar-footer bar-positive">
        <div class="title">
            <small>
                <a ui-sref="login">Back to login screen</a>
            </small>
        </div>
    </div>
</ion-view>